<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
  <link rel="SHORTCUT ICON" href="../bilder//pl.ico">
  <title>Variablen  </title>
 </head>
 <body bgcolor="#ffffff">
  <hr>
  <h1 align="center">Variablen</h1>
  <table align="center"><tr>
  <td><a href="perl_kon.html">  <img src="../bilder//perl_links.gif" alt="[ vorherige Seite ]" width="43" height="30" border="0"></a></td>
  <td><a href="../perl-tutorial.html">  <img src="../bilder//perl_titel.gif" alt="[ Titelseite ]" width="81" height="22" border="0"></a></td>
  <td><a href="perl_inhalt.html">  <img src="../bilder//perl_inhalt.gif" alt="[ Inhalt ]" width="57" height="22" border="0"></a></td>
  <td><a href="perl_index.html">  <img src="../bilder//perl_index.gif" alt="[ Index ]" width="54" height="22" border="0"></a></td>
  <td><a href="perl_op.html">  <img src="../bilder//perl_rechts.gif" alt="[ n&auml;chste Seite ]" width="43" height="30" border="0"></a></td>
  </tr></table>
  <hr>

  <ul>
<li><a href="#abs1">Skalare Variablen</a></li>
<li><a href="#abs2">Arrays</a></li>
<li><a href="#abs3">Hashes</a></li>
  </ul>
  <a name="abs1"></a><hr>
  <h2 align="center">Skalare Variablen</h2>
  <hr>
  <p>

Zu einer "richtigen" Programmiersprache geh&ouml;ren nat&uuml;rlich
Variablen, die mit Werten besetzt werden k&ouml;nnen.
Zun&auml;chst einmal sollen nur einfache "skalare" Variablen betrachtet
werden: Zahlen und Zeichenketten (<i>strings</i>). Im Unterschied zu
vielen anderen Sprachen sehen die Variablen f&uuml;r Zahlen
und Zeichen in Perl gleich aus: sie beginnen alle mit einem
<code>$</code> gefolgt von ihrem Namen (Identifizierer). Der Name darf
mit einem Buchstaben oder Unterstrich ("<code>_</code>") beginnen,
gefolgt von im Prinzip beliebig vielen Buchstaben, Unterstrichen oder Ziffern.
  </p>
  <p>

Hinweis: Man sollte keine Variablen namens "<code>$a</code>" oder 
"<code>$b</code>" verwenden, da diese beim Sortieroperator 
<code>sort</code> eine besondere Bedeutung haben.
  </p>
  <p>

Um einer Variablen einen Wert zuzuweisen wird der Operator
"<code>=</code>"
verwendet.
  </p>
<table align="center" bgcolor="#ffcc99" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ffffcc" border="0" cellpadding="10" width="100%">
<tr><td><code>#!/usr/local/bin/perl&nbsp;-w<br><br><font color="#0000cc">$ausgabe&nbsp;=&nbsp;"Just&nbsp;another&nbsp;Perl&nbsp;hacker\n";<br>$i&nbsp;=&nbsp;123;<br>$x&nbsp;=&nbsp;1e-5;</font><br><br>print&nbsp;"$ausgabe\n";<br>print&nbsp;"$i\n";<br>print&nbsp;"$x\n";<br></code></td></tr></table>
</td></tr></table>
<table align="center" bgcolor="#66cc66" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ccffcc" border="0" cellpadding="5" width="100%">
<tr><td><code>Just&nbsp;another&nbsp;Perl&nbsp;hacker<br><br>123<br>1e-05<br></code></td></tr></table>
</td></tr></table>
  <p>

Hier enth&auml;lt die Variable <code>$ausgabe</code>
den Wert "<code>Just another Perl hacker\n</code>", die Variable
<code>$i</code> den Wert <i>123</i> und <code>$x</code> den Wert
der Gleitkommazahl <i>1e-05</i>.
  </p>
  <p>

Im Unterschied zu den meisten anderen Sprachen m&uuml;ssen
Variablen in Perl nicht zu Beginn eines Programms deklariert
werden. Um Fehler zu vermeiden, empfiehlt es sich aber grunds&auml;tzlich jede
Variable zu deklarieren. Damit man keine Variable &uuml;bersieht,
setzt man
"<code>use&nbsp;strict;</code>"
an den Anfang des Programms.
In den meisten F&auml;llen ist eine Deklaration mittels "<code>my</code>"
die richtige Wahl. Details zur Variablendeklaration finden sich im
Abschnitt <a href="perl_lokal.html">Variablen und Symboltabellen</a>.
  </p>
  <p>

Auch f&uuml;r Zeichenketten mu&szlig; kein Speicherplatz
reserviert werden, ihre L&auml;nge ist in Perl im wesentlichen durch die
Gr&ouml;&szlig;e des Arbeitsspeichers begrenzt.
Zahlen werden in Perl meistens als
Gleitkommazahlen
behandelt.
  </p>
  <p>

Ob eine Variable als Zahl oder Zeichenkette interpretiert wird, h&auml;ngt
von der Umgebung - dem Kontext - ab, in dem sie auftritt.
  </p>
<table align="center" bgcolor="#ffcc99" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ffffcc" border="0" cellpadding="10" width="100%">
<tr><td><code>#!/usr/local/bin/perl&nbsp;-w<br><br>use&nbsp;strict;<br><br>my&nbsp;$x&nbsp;=&nbsp;1;<br>my&nbsp;$y&nbsp;=&nbsp;4;<br>my&nbsp;<font color="#0000cc">$c&nbsp;=&nbsp;$x&nbsp;+&nbsp;$y;</font><br>my&nbsp;<font color="#0000cc">$d&nbsp;=&nbsp;$x&nbsp;.&nbsp;$y;</font><br><br>print&nbsp;"$c\n";<br>print&nbsp;"$d\n";<br></code></td></tr></table>
</td></tr></table>
<table align="center" bgcolor="#66cc66" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ccffcc" border="0" cellpadding="5" width="100%">
<tr><td><code>5<br>14<br></code></td></tr></table>
</td></tr></table>
  <p>

Im obigen Beispiel ist "<code>+</code>" der normale Operator zur
Addition zweier Zahlen und "<code>.</code>" der
Verkettungsoperator,
um zwei Strings zu einem zu verbinden.  
  </p>
  <p>

Ein besonderer "Wert" einer Variablen ist <i>undef</i>, der dann
auftritt, wenn einer Variablen entweder &uuml;berhaupt kein Wert oder
explizit <code>undef</code> zugewiesen wird.
  </p>
<table align="center" bgcolor="#ffcc99" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ffffcc" border="0" cellpadding="10" width="100%">
<tr><td><code>#!/usr/local/bin/perl&nbsp;-w<br><br>use&nbsp;strict;<br><br>my&nbsp;$w;<br>print&nbsp;"Initialisierung:&nbsp;($w)\n";<br>$w&nbsp;=&nbsp;'Hallo';<br>print&nbsp;"String:&nbsp;($w)\n";<br>$w&nbsp;=&nbsp;'';<br>print&nbsp;"Leerstring:&nbsp;($w)\n";<br>$w&nbsp;=&nbsp;<font color="#0000cc">undef</font>;<br>print&nbsp;"undef:&nbsp;($w)\n";<br></code></td></tr></table>
</td></tr></table>
<table align="center" bgcolor="#66cc66" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ccffcc" border="0" cellpadding="5" width="100%">
<tr><td><code>Use&nbsp;of&nbsp;uninitialized&nbsp;value&nbsp;in&nbsp;concatenation&nbsp;(.)&nbsp;or&nbsp;string&nbsp;at&nbsp;./test.pl&nbsp;line&nbsp;6.<br>Initialisierung:&nbsp;()<br>String:&nbsp;(Hallo)<br>Leerstring:&nbsp;()<br>Use&nbsp;of&nbsp;uninitialized&nbsp;value&nbsp;in&nbsp;concatenation&nbsp;(.)&nbsp;or&nbsp;string&nbsp;at&nbsp;./test.pl&nbsp;line&nbsp;12.<br>undef:&nbsp;()<br></code></td></tr></table>
</td></tr></table>
  <p>

Hinweis: <code>undef</code> ist zu unterscheiden von etwa "0" als
numerischem Wert oder einem Leerstring; letztere sind im Sinne von Perl
sehr wohl definiert!
  </p>
  <p>

Mit Hilfe der Funktion <code>defined()</code>
kann man herausfinden, ob eine Variable einen definierten Wert hat oder
nicht. Je nachdem ist der R&uuml;ckgabewert "1" oder ein Leerstring.
  </p>
<table align="center" bgcolor="#ffcc99" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ffffcc" border="0" cellpadding="10" width="100%">
<tr><td><code>#!/usr/local/bin/perl&nbsp;-w<br><br>use&nbsp;strict;<br><br>my&nbsp;$w;<br>print&nbsp;"a)&nbsp;",<font color="#0000cc">defined($w)</font>,"\n";<br>$w&nbsp;=&nbsp;25;<br>print&nbsp;"b)&nbsp;",<font color="#0000cc">defined($w)</font>,"\n";<br></code></td></tr></table>
</td></tr></table>
<table align="center" bgcolor="#66cc66" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ccffcc" border="0" cellpadding="5" width="100%">
<tr><td><code>a)<br>b)&nbsp;1<br></code></td></tr></table>
</td></tr></table>
<p align="right"><a href="perl_var.html">[Seitenanfang]</a></p>
  <a name="abs2"></a><hr>
  <h2 align="center">Arrays</h2>
  <hr>
  <p>

Eine Variable, die ein Array in Perl darstellt, ist durch das Zeichen
"<code>@</code>" gekennzeichnet. Da skalare Variablen und Arrays
unabh&auml;ngig voneinander verwaltet werden, darf es in einem Programm
durchaus eine Zahl <code>$ALF</code> und ein Array <code>@ALF</code>
geben.
  </p>
  <p>

Arrays sind grunds&auml;tzlich eindimensional (Vektoren) und enthalten
als Elemente skalare Gr&ouml;&szlig;en. Wie bei Zeichenketten mu&szlig;
auch bei Arrays keine Speicherplatzreservierung vorgenommen werden und
Arrays k&ouml;nnen im Laufe eines Programms praktisch beliebige
Gr&ouml;&szlig;en annehmen. Versucht man, auf ein nicht gestetztes
Element zuzugreifen, so bekommt man einen undefinierten Wert
(<i>undef</i>) zur&uuml;ck.
  </p>
  <p>

Die Elemente eines Arrays k&ouml;nnen im wesentlichen auf zwei Arten
mit Werten besetzt werden :
  </p>
  <ul>
   <li>
<code>@vektor = (4,6,"ein String",25);</code>    <p>

      Hier bekommen die ersten vier Elemente von <code>@vektor</code>
      die entsprechenden Werte.
          </p>
   </li>
   <li>
<code>$vektor[7] = 42;</code>    <p>

      Bei der Zuweisung &uuml;ber einen Index ist hier das Dollar-Zeichen
      <code>$</code> zu beachten, da "<code>vektor[7]</code>" eine
      skalare
      Variable und kein Array darstellt! Die Indizierung der Arrays
      beginnt bei 0 (Eine &Auml;nderung dieses Verhaltens &uuml;ber
      die spezielle Variable <code>$[</code> ist nicht zu empfehlen!).
      In diesem Beispiel m&uuml;ssen &uuml;brigens
      die Inhalte <code>$vektor[0]</code> bis <code>$vektor[6]</code>
      &uuml;berhaupt nicht besetzt werden.
          </p>
   </li>
  </ul>
  <p>

Die L&auml;nge eines Arrays kann bestimmt werden, indem man die
Array-Variable in einem skalaren Kontext verwendet; den Index des
letzten Elements erh&auml;lt man durch Voranstellen von
"<code>$#</code>" vor den Arraynamen.
  </p>
<table align="center" bgcolor="#ffcc99" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ffffcc" border="0" cellpadding="10" width="100%">
<tr><td><code>#!/usr/local/bin/perl&nbsp;-w<br><br>use&nbsp;strict;<br><br>my&nbsp;<font color="#0000cc">@vektor&nbsp;=&nbsp;(4,6,"ein&nbsp;String",25)</font>;<br>my&nbsp;<font color="#0000cc">$laenge&nbsp;=&nbsp;@vektor</font>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#006600">#&nbsp;skalarer&nbsp;Kontext&nbsp;!</font><br>print&nbsp;"L&auml;nge&nbsp;=&nbsp;$laenge\n";<br>print&nbsp;"Letzter&nbsp;Index&nbsp;=&nbsp;<font color="#0000cc">$#vektor</font>\n";<br>print&nbsp;"\$vektor[1]&nbsp;=&nbsp;<font color="#0000cc">$vektor[1]</font>\n";<br><br><font color="#0000cc">$vektor[7]&nbsp;=&nbsp;42</font>;<br><font color="#0000cc">$laenge&nbsp;=&nbsp;@vektor</font>;<br>print&nbsp;"L&auml;nge&nbsp;=&nbsp;$laenge\n";<br>print&nbsp;"Letzter&nbsp;Index&nbsp;=&nbsp;<font color="#0000cc">$#vektor</font>\n";<br></code></td></tr></table>
</td></tr></table>
<table align="center" bgcolor="#66cc66" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ccffcc" border="0" cellpadding="5" width="100%">
<tr><td><code>L&auml;nge&nbsp;=&nbsp;4<br>Letzter&nbsp;Index&nbsp;=&nbsp;3<br>$vektor[1]&nbsp;=&nbsp;6<br>L&auml;nge&nbsp;=&nbsp;8<br>Letzter&nbsp;Index&nbsp;=&nbsp;7<br></code></td></tr></table>
</td></tr></table>
  <p>

Aus einem Array kann auch ein Ausschnitt (<i>slice</i>) genommen werden,
indem der entsprechende Indexbereich angegeben wird.
  </p>
<table align="center" bgcolor="#ffcc99" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ffffcc" border="0" cellpadding="10" width="100%">
<tr><td><code>#!/usr/local/bin/perl&nbsp;-w<br><br>use&nbsp;strict;<br><br>my&nbsp;@vektor&nbsp;=&nbsp;(2,4,6,8,10,12);<br>my&nbsp;@slice&nbsp;=&nbsp;@vektor;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#006600">#&nbsp;(2,4,6,8,10,12)</font><br>@slice&nbsp;=&nbsp;<font color="#0000cc">@vektor[2,3,4]</font>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#006600">#&nbsp;(6,8,10)</font><br>@slice&nbsp;=&nbsp;<font color="#0000cc">@vektor[2,4]</font>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#006600">#&nbsp;(6,10)</font><br></code></td></tr></table>
</td></tr></table>
  <p>

Ein spezielles Array ist <code>@ARGV</code>. Es enth&auml;lt die
Parameter/Optionen, die dem Skript beim Aufruf mit &uuml;bergeben
werden. Beispiel:
  </p>
<table align="center" bgcolor="#ffcc99" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ffffcc" border="0" cellpadding="10" width="100%">
<tr><td><code>#!/usr/local/bin/perl&nbsp;-w<br><br>print&nbsp;"<font color="#0000cc">@ARGV</font>\n";<br></code></td></tr></table>
</td></tr></table>
  <p>

Achtung: Im Gegensatz zur Programmiersprache C liefert
<code>$ARGV[0]</code> den ersten Parameter und nicht den Namen
des Programms (Dieser Filename befindet sich in Perl in der
Variablen <code>$0</code>)!
  </p>
<p align="right"><a href="perl_var.html">[Seitenanfang]</a></p>
  <a name="abs3"></a><hr>
  <h2 align="center">Hashes</h2>
  <hr>
  <p>

Kennzeichen eines Hashes (fr&uuml;her auch als "assoziatives Array"
bezeichnet) ist die Paarung von jeweils
zwei Elementen in der Form "Schl&uuml;ssel-Wert".
Gekennzeichnet wird ein
Hash durch ein Prozentzeichen "<code>%</code>" vor dem
Variablennamen.
  </p>
<table align="center" bgcolor="#ffcc99" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ffffcc" border="0" cellpadding="10" width="100%">
<tr><td><code>#!/usr/local/bin/perl&nbsp;-w<br><br>use&nbsp;strict;<br><br>my&nbsp;<font color="#0000cc">%alter&nbsp;=&nbsp;("Sabine","27","Klaus","35","Ralf","22")</font>;<br>print&nbsp;"<font color="#0000cc">$alter{Sabine}</font>\n";<br>print&nbsp;"<font color="#0000cc">$alter{Klaus}</font>\n";<br>print&nbsp;"<font color="#0000cc">$alter{Ralf}</font>\n";<br><br>my&nbsp;@schluessel&nbsp;=&nbsp;<font color="#0000cc">keys(%alter)</font>;<br>my&nbsp;@werte&nbsp;=&nbsp;<font color="#0000cc">values(%alter)</font>;<br><br>print&nbsp;"\@schluessel&nbsp;=&nbsp;@schluessel\n";<br>print&nbsp;"\@werte&nbsp;=&nbsp;@werte\n";<br></code></td></tr></table>
</td></tr></table>
<table align="center" bgcolor="#66cc66" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ccffcc" border="0" cellpadding="5" width="100%">
<tr><td><code>27<br>35<br>22<br>@schluessel&nbsp;=&nbsp;Ralf&nbsp;Sabine&nbsp;Klaus<br>@werte&nbsp;=&nbsp;22&nbsp;27&nbsp;35<br></code></td></tr></table>
</td></tr></table>
  <p>

Hier wird auf die Werte der Schl&uuml;ssel in <code>%alter</code>
durch <code>$alter{...}</code> zugegriffen (man beachte auch hier
das Dollar-Zeichen). Eine Liste aller Schl&uuml;ssel in einem
Hash erh&auml;lt man durch die Funktion
<code>keys()</code>,
eine Liste aller Werte durch
<code>values()</code>.
Die Reihenfolge der Elemente ist dabei scheinbar willk&uuml;rlich
(sie h&auml;ngt von der sog. <i>Hash-Funktion</i> ab, die Perl intern
verwendet) und mu&szlig; keineswegs mit der in der Definition
&uuml;bereinstimmen.
  </p>
  <p>

Man kann die Elemente eines Hashes mit Hilfe der
Funktion <code>each()</code> auch paarweise jeweils
in ein zweielementiges Array lesen. Bei jedem Aufruf wird dabei 
das n&auml;chste Paar zur&uuml;ckgegeben.
  </p>
<table align="center" bgcolor="#ffcc99" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ffffcc" border="0" cellpadding="10" width="100%">
<tr><td><code>#!/usr/local/bin/perl&nbsp;-w<br>&nbsp;<br>use&nbsp;strict;<br><br>my&nbsp;<font color="#0000cc">%h&nbsp;=&nbsp;("Auto"&nbsp;=&gt;&nbsp;1,&nbsp;"Haus"&nbsp;=&gt;&nbsp;2,&nbsp;"Baum"&nbsp;=&gt;&nbsp;3)</font>;<br><br>print&nbsp;<font color="#0000cc">each(%h)</font>,"\n";<br>print&nbsp;<font color="#0000cc">each(%h)</font>,"\n";<br>print&nbsp;<font color="#0000cc">each(%h)</font>,"\n";<br></code></td></tr></table>
</td></tr></table>
<table align="center" bgcolor="#66cc66" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ccffcc" border="0" cellpadding="5" width="100%">
<tr><td><code>Haus2<br>Baum3<br>Auto1<br></code></td></tr></table>
</td></tr></table>
  <p>

Auch hier ist die Reihenfolge (scheinbar) zuf&auml;llig.
  </p>
  <p>

In diesem Beispiel wurde anstelle von Kommata ein Pfeil-Symbol
("<code>=&gt;</code>") verwendet. Dieses Symbol ist einem
Komma (fast) vollkommen gleichwertig und wird bei Hashes gerne der
&Uuml;bersichtlichkeit
halber verwendet, um die Schl&uuml;ssel-Wert-Paarungen zu verdeutlichen.
  </p>
  <p>

Auf Umgebungsvariablen (<i>environment</i>) kann &uuml;ber
den speziellen Hash <code>%ENV</code> zugegriffen werden.
  </p>
<table align="center" bgcolor="#ffcc99" border="0" cellpadding="2" width="80%"><tr><td>
<table bgcolor="#ffffcc" border="0" cellpadding="10" width="100%">
<tr><td><code>#!/usr/local/bin/perl&nbsp;-w<br><br>print&nbsp;<font color="#0000cc">$ENV{'LOGNAME'}</font>."\n";<br>print&nbsp;<font color="#0000cc">$ENV{'DISPLAY'}</font>."\n";<br></code></td></tr></table>
</td></tr></table>
<p align="right"><a href="perl_var.html">[Seitenanfang]</a></p>
  <hr>
  <table align="center"><tr>
  <td><a href="perl_kon.html">  <img src="../bilder//perl_links.gif" alt="[ vorherige Seite ]" width="43" height="30" border="0"></a></td>
  <td><a href="../perl-tutorial.html">  <img src="../bilder//perl_titel.gif" alt="[ Titelseite ]" width="81" height="22" border="0"></a></td>
  <td><a href="perl_inhalt.html">  <img src="../bilder//perl_inhalt.gif" alt="[ Inhalt ]" width="57" height="22" border="0"></a></td>
  <td><a href="perl_index.html">  <img src="../bilder//perl_index.gif" alt="[ Index ]" width="54" height="22" border="0"></a></td>
  <td><a href="perl_op.html">  <img src="../bilder//perl_rechts.gif" alt="[ n&auml;chste Seite ]" width="43" height="30" border="0"></a></td>
  </tr></table>
  <hr>
  <table width="100%"><tr>
    <td align="left"><i>Autor: 
       <a href="mailto:Eike.Grote@web.de">Eike&nbsp;Grote</a></i>
    </td>
    <td align="right"><i>Version: 2.04 (22.1.2011)</i>
    </td>
  </tr></table>
 </body>
</html>
